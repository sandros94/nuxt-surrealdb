---
title: 'useSurrealMemory'
icon: 'i-lucide-memory-stick'
description: 'Access the in-memory SurrealDB Node engine on the server.'
---

# Server useSurrealMemory

Auto-imported server util that provides access to an in-memory SurrealDB instance powered by `@surrealdb/node`.

## Basic usage

```ts [server/api/mem.get.ts]
export default defineEventHandler(async () => {
  const client = await useSurrealMemory()

  const [res] = await client.query('SELECT * FROM test;').json().collect(0)
  return res
})
```

## With per-request sessions

```ts [server/api/mem.get.ts]
export default defineEventHandler(async (event) => {
  const session = await useSurrealMemory(event)

  const [res] = await session.query('SELECT * FROM test;').json().collect(0)
  return res
})
```

## Return type

| Call | Return type |
|------|-------------|
| `useSurrealMemory()` | `Promise<Surreal>` |
| `useSurrealMemory(event)` | `Promise<SurrealSession>` |

::tip
An alias `useSurrealMem` is also available.
::

::note
Requires `@surrealdb/node` to be installed. The composable's `memory` config is read from `runtimeConfig.surrealdb.memory`.
::
