---
title: 'useSurrealQuery'
icon: 'i-lucide-search'
description: 'Execute SurrealQL queries with SSR-safe async data.'
---

# useSurrealQuery

Execute SurrealQL queries with automatic SSR support via `useAsyncData`. Supports parameterized queries and reactive bindings.

## Usage

```vue [app/pages/index.vue]
<script setup lang="ts">
const { data } = await useSurrealQuery<[{ name: string }[]]>(
  'SELECT * FROM users WHERE age > $minAge;',
  { minAge: 18 },
)
</script>
```

## With reactive bindings

```vue [app/pages/search.vue]
<script setup lang="ts">
const search = ref('')

const { data } = await useSurrealQuery<[{ name: string }[]]>(
  'SELECT * FROM users WHERE name CONTAINS $search;',
  { search },
  { watch: [search] },
)
</script>
```

## Arguments

| Argument | Type | Description |
|----------|------|-------------|
| `query` | `MaybeRef<string>` | The SurrealQL query string |
| `bindings?` | `MaybeRef<Record<string, MaybeRef<unknown>>>` | Query parameters |
| `asyncDataOptions?` | `AsyncDataOptions & { key?: string }` | Options passed to `useAsyncData` |

## Return type

Returns the same shape as [`useSurrealAsyncData`](/composables/use-surreal-async-data), with `data` typed according to the generic parameter.

::tip
The `key` for `useAsyncData` is automatically generated from the query and bindings. You can override it via `asyncDataOptions.key`.
::
